"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8645],{8645:(Y,v,s)=>{s.r(v),s.d(v,{InicioPageModule:()=>T});var r=s(4742),g=s(177),b=s(4341),I=s(5299),p=s(5841),m=s(467),c=s(9967),n=s(3953),E=s(8413);let P=(()=>{var o;class i{}return(o=i).\u0275fac=function(t){return new(t||o)},o.\u0275cmp=n.VBU({type:o,selectors:[["app-explore-container"]],inputs:{name:"name"},decls:7,vars:1,consts:[["id","container"],["target","_blank","rel","noopener noreferrer","href","https://ionicframework.com/docs/components"]],template:function(t,a){1&t&&(n.j41(0,"div",0)(1,"strong"),n.EFF(2),n.k0s(),n.j41(3,"p"),n.EFF(4,"Explore "),n.j41(5,"a",1),n.EFF(6,"UI Components"),n.k0s()()()),2&t&&(n.R7$(2),n.JRh(a.name))},styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]}),i})();function M(o,i){if(1&o&&(n.j41(0,"ion-card-title"),n.EFF(1),n.k0s()),2&o){const e=n.XpG();n.R7$(),n.SpI("Bienvenido ",e.nombreUsuario,"")}}function U(o,i){if(1&o&&(n.j41(0,"ion-item")(1,"ion-label")(2,"h2"),n.EFF(3),n.k0s(),n.j41(4,"p"),n.EFF(5),n.k0s()()()),2&o){const e=i.$implicit;n.R7$(3),n.JRh(e.notificacion),n.R7$(2),n.SpI("Equipo: ",e.equipo_notificacion,"")}}function y(o,i){if(1&o&&(n.j41(0,"ion-item")(1,"ion-label"),n.EFF(2),n.k0s()()),2&o){const e=i.$implicit,t=i.index;n.R7$(2),n.LHq(" ",t+1,". ",e.nombreUsuario," ",e.apellidoUsuario," - ",e.puntos," puntos ")}}function R(o,i){if(1&o&&(n.j41(0,"ion-list",10),n.DNE(1,y,3,4,"ion-item",11),n.k0s()),2&o){const e=n.XpG();n.R7$(),n.Y8G("ngForOf",e.puntajes)}}function $(o,i){1&o&&(n.j41(0,"div"),n.EFF(1," No hay puntajes disponibles. "),n.k0s())}const _=[{path:"",component:(()=>{var o;class i{constructor(t,a,l,d){this.activeroute=t,this.router=a,this.firestore=l,this.authService=d,this.nombreUsuario=null,this.usuario=[],this.puntajes=[],this.notificaciones=[]}obtenerPuntajes(){var t=this;const a=(0,c.Cs)(this.firestore,"puntajes");(0,c.aQ)(a,function(){var l=(0,m.A)(function*(d){const x=[],G=d.docs.map(function(){var h=(0,m.A)(function*(u){var F;const N=u.data(),j=null===(F=u.ref.parent.parent)||void 0===F?void 0:F.id;if(j){const k=(0,c.H9)(t.firestore,`usuarios/${j}`);try{const f=yield(0,c.x7)(k);if(f.exists()){const C=f.data();x.push({id:u.id,puntos:N.puntos||0,nombreUsuario:C.nombre||"Usuario desconocido",apellidoUsuario:C.apellido||""})}}catch(f){console.error(`Error al obtener datos del usuario ${j}:`,f)}}});return function(u){return h.apply(this,arguments)}}());yield Promise.all(G),t.puntajes=x,t.puntajes.sort((h,u)=>(u.puntos||0)-(h.puntos||0)),console.log("Puntajes obtenidos:",t.puntajes)});return function(d){return l.apply(this,arguments)}}(),l=>{console.error("Error al escuchar los puntajes:",l)})}ngOnInit(){this.obtenerPuntajes();const t=this.authService.getCurrentUser();console.log("Usuario actual:",t),this.nombreUsuario=t&&t.displayName||"Usuario",this.obtenerNotificaciones()}obtenerNotificaciones(){var t=this;return(0,m.A)(function*(){const a=(0,c.rJ)(t.firestore,"notificaciones");(0,c.xs)(a,{idField:"id"}).subscribe(l=>{t.notificaciones=l,console.log("Notificaciones: ",t.notificaciones)})})()}}return(o=i).\u0275fac=function(t){return new(t||o)(n.rXU(p.nX),n.rXU(p.Ix),n.rXU(c._7),n.rXU(E.u))},o.\u0275cmp=n.VBU({type:o,selectors:[["app-tab1"]],decls:27,vars:7,consts:[[3,"translucent"],["id","titulo"],[1,"header-container"],["src","assets/logoo.png","alt","Logo de la aplicaci\xf3n","id","logo"],["id","nombre"],[1,"ion-padding",3,"fullscreen"],["collapse","condense"],["size","large"],["name","Inicio"],[4,"ngIf"],[1,"scrollable-list"],[4,"ngFor","ngForOf"],["class","scrollable-list",4,"ngIf"]],template:function(t,a){1&t&&(n.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title")(3,"div",2),n.nrm(4,"img",3),n.j41(5,"span",4),n.EFF(6,"Conoce el deporte"),n.k0s()()()()(),n.j41(7,"ion-content",5)(8,"ion-header",6)(9,"ion-toolbar")(10,"ion-title",7),n.EFF(11,"Inicio"),n.k0s()()(),n.nrm(12,"app-explore-container",8),n.j41(13,"ion-content",5),n.DNE(14,M,2,1,"ion-card-title",9),n.j41(15,"ion-card")(16,"ion-card-header")(17,"ion-card-title"),n.EFF(18,"Noticias"),n.k0s()(),n.j41(19,"ion-card-content")(20,"ion-list",10),n.DNE(21,U,6,2,"ion-item",11),n.k0s()()(),n.j41(22,"ion-list-header")(23,"ion-card-title"),n.EFF(24,"Tabla de clasificaci\xf3n"),n.k0s()(),n.DNE(25,R,2,1,"ion-list",12)(26,$,2,0,"div",9),n.k0s()()),2&t&&(n.Y8G("translucent",!0),n.R7$(7),n.Y8G("fullscreen",!0),n.R7$(6),n.Y8G("fullscreen",!0),n.R7$(),n.Y8G("ngIf",a.nombreUsuario),n.R7$(7),n.Y8G("ngForOf",a.notificaciones),n.R7$(4),n.Y8G("ngIf",a.puntajes.length>0),n.R7$(),n.Y8G("ngIf",0===a.puntajes.length))},dependencies:[r.b_,r.I9,r.ME,r.tN,r.W9,r.eU,r.uz,r.he,r.nf,r.AF,r.BC,r.ai,g.Sq,g.bT,P],styles:['@charset "UTF-8";#titulo[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.header-container[_ngcontent-%COMP%]{display:flex;align-items:center}#logo[_ngcontent-%COMP%]{width:50px;height:auto;border-radius:50%;margin:10px}#nombre[_ngcontent-%COMP%]{font-size:23px}ion-card[_ngcontent-%COMP%]{--box-shadow: 0px 4px 12px rgba(0, 0, 0, .1);border-radius:12px}.scrollable-list[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}']}),i})()}];let O=(()=>{var o;class i{}return(o=i).\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.$C({type:o}),o.\u0275inj=n.G2t({imports:[p.iI.forChild(_),p.iI]}),i})(),T=(()=>{var o;class i{}return(o=i).\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.$C({type:o}),o.\u0275inj=n.G2t({imports:[r.bv,g.MD,b.YN,I.S,O]}),i})()}}]);